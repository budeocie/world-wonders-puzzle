<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>World Wonders Puzzle by Bude Ocie</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f7f7f7;
      margin: 0;
      padding: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    h1 {
      margin: 20px;
      color: #333;
    }
    #puzzle-container {
      margin: 20px;
    }
    canvas {
      border: 2px solid #333;
      background: white;
    }
    #controls {
      margin-top: 10px;
    }
    button {
      padding: 10px 20px;
      margin: 5px;
      font-size: 16px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      background: #4CAF50;
      color: white;
    }
    button:hover {
      background: #45a049;
    }
  </style>
</head>
<body>
  <h1>World Wonders Puzzle by Bude Ocie</h1>
  <div id="puzzle-container">
    <canvas id="puzzle" width="400" height="400"></canvas>
    <div id="controls">
      <button onclick="shuffle()">Shuffle</button>
      <button onclick="nextLevel()">Next Level</button>
    </div>
  </div>
  <script>
    const canvas = document.getElementById('puzzle');
    const ctx = canvas.getContext('2d');
    const rows = 3, cols = 3;
    const pieceSize = canvas.width / cols;

    const images = [
      "chichÃ©n_itzÃ¡.png",
      "great_wall_of_china.png",
      "taj_mahal.png",
      "petra.png",
      "machu_picchu.png"
    ];

    let currentLevel = 0;
    let pieces = [];
    let img = new Image();

    function loadLevel(level) {
      img.src = images[level];
      img.onload = () => {
        initPuzzle();
        shuffle();
      };
    }

    function initPuzzle() {
      pieces = [];
      for (let r = 0; r < rows; r++) {
        for (let c = 0; c < cols; c++) {
          pieces.push({
            r, c,
            x: c * pieceSize,
            y: r * pieceSize
          });
        }
      }
      drawPuzzle();
    }

    function shuffle() {
      pieces.sort(() => Math.random() - 0.5);
      drawPuzzle();
    }

    function drawPuzzle() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      pieces.forEach((p, i) => {
        let r = Math.floor(i / cols);
        let c = i % cols;
        ctx.drawImage(
          img,
          p.c * pieceSize, p.r * pieceSize, pieceSize, pieceSize,
          c * pieceSize, r * pieceSize, pieceSize, pieceSize
        );
      });
    }

    function nextLevel() {
      currentLevel++;
      if (currentLevel >= images.length) {
        alert("ðŸŽ‰ Selamat! Semua puzzle selesai!");
        currentLevel = 0;
      }
      loadLevel(currentLevel);
    }

    // Start game
    loadLevel(currentLevel);
  </script>
</body>
</html>